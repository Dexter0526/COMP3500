# 6. 트리, 이진 탐색 트리, 레드-블랙 트리

## 트리
- 매우 널리 사용하는 자료구조 중 하나
- 나무(tree)의 계층적 구조를 표현

트리 관련 용어
- 노드(node) : 실제로 저장하는 데이터
- 루트(root)노드 : 최상위에 위치한 데이터
    - 시작 노드
    - 모든 노드와 직간접적으로 연결됨
- 리프(leaf)노드 : 마지막에 위치한 데이터들
    - 더 이상 가지를 치지 않음
- 부모-자식 : 연결된 노드들 간의 상대적 관계
    - 자식은 없을 수도, 많이 있을 수도
- 깊이(depth) : 노드 -> 루트 경로의 길이
- 높이(height) : 노드 -> 리프 경로의 최대 길이
- 하위트리(subtree) : 어떤 노드 아래의 모든 것을 포함하는 트리
    - 재귀적 : 하위 트리 그 자체가 트리
    
#### 트리는 재귀적 자료구조
![img.png](./img/img.png)

#### 트리의 저장법
- 트리의 속성
    1. 부모와 자식 모두 노드
    2. 부모 : 자식 = 1 : 다수
    3. 자식은 언제나 부모로부터 가지를 침
- 따라서 부모가 자식을 참조하는 방식이 가장 직관적

```
public class Node{
    public int data;
    public ArrayList<Node> children;
}

if 자식이 최대 둘인 트리의 저장법(이진 트리)
public class Node{
    public int data;
    public Node left;
    public Node right;
}
```

#### 트리의 용도
- 계층적 데이터를 표현
    - HTML이나 XML의 문서 개체 모델(DOM)을 표현
    - JSON이나 YAML 처리 시 계층 관계를 표현
    - 프로그래밍 언어를 표현하는 추상 구문 트리(abstract syntax tree)
    - 인간 언어를 표현하는 파싱 트리(parsing tree)
- 검색 트리를 통해 효율적인 검색 알고리즘 구현 가능
- 그외 다수

## 이진 탐색 트리(BST)
- 자식이 최대 둘
    - 왼쪽/오른쪽 자식
- 무언가 계층적(재귀적)으로 이분해 나갈때 적합
- 기준(규칙) 추가

### 정렬된 배열 vs 이진 탐색 트리
- 정렬된 배열
    - 보통 이진 탐색 전에 정렬을 함
    - 새로 추가된 데이터는 비정렬 상태
    - 탐색 시간 : O(log n)
    - 삽입 및 삭제 : O(n)
    - 매우 간단한 데이터 구조
    - 메모리의 한 덩어리
- 이진 탐색 트리
    - 탐색 전에 따로 정렬 불필요
    - 데이터 추가 시 정렬된 위치에 추가
    - 탐색 시간 : O(log n)
    - 평균 삽입/삭제 시간 : O(log n)
    - 연결 리스트 이상 복잡한 데이터 구조
    - 보통 여러 메모리 덩어리
    
### BST 탐색
- 기본적으로 이진 탐색과 동일
    - 분할 정복(재귀적)
- 차이점
    - 각 노드마다 두 하위 트리로 이분됨
- 하위 트리로 내려갈 때마다
    - 검색 공간이 절반씩 줄어듦
    - O(log n)
- 최악 : O(n)
    - 사실상 연결 리스트
    
### BST 삽입 정리
- 새로운 노드를 받아줄 수 있는 부모 노드를 찾음 O(log n)
  - 트리를 내려가는 방법은 탐색과 같음
  - 새로운 노드를 받아줄 수 있는 부모란?
    - 오른쪽 하위 트리로 내려가야 하는데 오른쪽 자식이 없는 부모
    - 왼쪽 하위 트리로 내려가야 하는데 왼쪽 자식이 없는 부모
- 그 후, 거기에 자식으로 추가 O(1)


